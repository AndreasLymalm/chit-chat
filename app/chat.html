<!DOCTYPE html>
<html lang="sv">

<head>
    <!-- The below 3 meta tags *must* come first in the head -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Site information -->
    <title>Chit-Chat</title>
    <meta name="description" content="A Simple Chat Application">
    <meta name="keywords" content="">
    <meta name="author" content="Andreas Lymalm, Alesja Rudaja">

    <!-- Font awesome -->
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN"
        crossorigin="anonymous">

    <!-- Stylesheets -->
    <!--build:css css/styles.min.css-->
    <link rel="stylesheet" href="css/styles.css">
    <script defer src="https://use.fontawesome.com/releases/v5.0.8/js/all.js"></script>
    <!-- endbuild -->
</head>

<body>

    <!-- 
        Log out/settings 
    -->
    <div id="user-bar">
        <div id="user-settings-button">
            <img class="avatar" src="img/avatars/cat.png">
            <span class="username">Andreas</span>
        </div>
        <button id="logout-button">Log Out</button>
    </div>

    <!-- 
        Application 
    -->
    <div id="main-app">

        <div id="chat-rooms">
            <h3>Chat Rooms</h3>
        </div>

        <div id="logged-in-users">
            <h3>Logged in users</h3>
        </div>

        <div id="chat-window">
            <div class="bar">
                <h3>KODNINJORNA</h3>
                <span id="chat-settings-btn">
                    <i class="fas fa-cogs"></i>
                </span>
            </div>

            <div id="chat-view"></div>
            <div id="chat-input">
                <input type="text" id="chat-message-input" placeholder="write your message...">
                <button type="submit" id="send-message">Send</button>
            </div>
        </div>

        <div id="chat-settings">
            <div class="bar">
                <h3>CHAT SETTINGS</h3>
                <span id="chat-settings-window">
                    <i class="fas fa-times"></i>
                </span>
            </div>

            <form id="create-chat-form">
                <label>Chat room name</label>
                <input id="chat-name" required>
                <p></p>

                <label>Theme</label>
                <input id="chat-theme" required>
                <p></p>

                <h4>Members</h4>

                <div id="public-chat">
                    <input type="checkbox">
                    <label>Public Chat Room</label>
                </div>

                <div id="search-bar">
                    <input type="text" id="search-user">
                    <button type="submit" id="add-user">Add user</button>
                </div>

                <div id="chat-room-users">
                    <i class="fas fa-times-circle"></i>
                    <p>Karin</p>
                </div>

                <button type="submit" id="create-chat-room">Create chat room</button>
                <button type="submit" id="delete-chat-room">Delete chat room</button>
            </form>
        </div>
    </div>

    <div id="user-settings">
        <div class="bar">
            <h3>User Settings</h3>
            <span>
                <span class="fas fa-times"></span>
            </span>
        </div>
        <div id="user-settings-view"></div>
    </div>

    <!--
        Firebase
    -->
    <script src="https://www.gstatic.com/firebasejs/4.10.1/firebase.js"></script>
    <script>
        // Initialize Firebase
        var config = {
            apiKey: "AIzaSyAIqrbM9exOGeUaHEXk7k2op_MPnmcXkEI",
            authDomain: "chit-chat-best.firebaseapp.com",
            databaseURL: "https://chit-chat-best.firebaseio.com",
            projectId: "chit-chat-best",
            storageBucket: "chit-chat-best.appspot.com",
            messagingSenderId: "863697896515"
        };
        firebase.initializeApp(config);
    </script>

    <!-- Handlebars templates -->
    <script id="chat-message-template" type="text/x-handlebars-template">
        {{#each this}}
        <div class="chat-message{{#checkIfCurrentUser uid}}{{body}}{{/checkIfCurrentUser}}">
            <div class="chat-content">
                <img src="img/avatars/{{avatar}}.png" class="chat-avatar">
                <p class="chat-text">{{text}}</p>
            </div>
            <div class="chat-meta">
                {{username}}, {{timestamp}}
            </div>
        </div>
        {{/each}}
    </script>

    <script id="chat-room-template" type="text/x-handlebars-template">
          <div class="chat-room" data-chat-room-id ={{uid}}>{{settings.name}}</div>
    </script>

    <!-- JavaScript -->
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
        crossorigin="anonymous"></script>

    <script src="js/globalVariables.js"></script>
    <script src="js/globalFunctions.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/handlebars-v4.0.11.js"></script>
    <script src="js/chatRooms.js"></script>
    <script src="js/chat.js"></script>
    <script src="js/loggedInUsers.js"></script>
    <script src="js/logout.js"></script>
    <script src="js/chatSettings.js"></script>
    <script src="js/userSettings.js"></script>

</body>

</html>